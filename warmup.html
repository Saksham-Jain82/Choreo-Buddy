<!DOCTYPE html>
<html class="dark" lang="en">
<head>
    <meta charset="utf-8"/>
    <meta content="width=device-width, initial-scale=1.0" name="viewport"/>
    <title>Choreobuddy - Pre-Dance Warmup</title>
    <script src="https://cdn.tailwindcss.com?plugins=forms,container-queries"></script>
    <link href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined:wght,FILL@100..700,0..1&amp;display=swap" rel="stylesheet"/>
    <script id="tailwind-config">
        tailwind.config = {
            darkMode: "class",
            theme: {
                extend: {
                    colors: {
                        "primary": "#185adc",
                        "background-light": "#f6f6f8",
                        "background-dark": "#111621",
                        "earth-brown": "#2a2420",
                        "earth-accent": "#c68e62",
                    },
                    fontFamily: {
                        "display": ["Manrope", "sans-serif"]
                    },
                    borderRadius: {"DEFAULT": "0.25rem", "lg": "0.5rem", "xl": "0.75rem", "full": "9999px"},
                },
            },
        }
    </script>
    <style>
        .glass-panel {
            background: rgba(36, 48, 71, 0.6);
            backdrop-filter: blur(12px);
        }
        @keyframes pulse-ring {
            0% { transform: scale(.33); opacity: 1; }
            80%, 100% { opacity: 0; }
        }
        .pulse-circle::before {
            content: '';
            position: absolute;
            width: 300%;
            height: 300%;
            border-radius: 50%;
            background-color: #185adc;
            animation: pulse-ring 1.25s cubic-bezier(0.215, 0.61, 0.355, 1) infinite;
        }
        .no-scrollbar::-webkit-scrollbar { display: none; }
        .no-scrollbar { -ms-overflow-style: none; scrollbar-width: none; }
        
        /* Video container styling */
        .video-container video {
            width: 100%;
            height: 100%;
            object-fit: cover;
        }
    </style>
</head>
<body class="bg-background-light dark:bg-background-dark font-display text-white min-h-screen">
<div class="layout-container flex h-full grow flex-col">
    <!-- Top Navigation -->
    <header class="flex items-center justify-between border-b border-solid border-white/10 px-10 py-3 glass-panel sticky top-0 z-50">
        <div class="flex items-center gap-4">
            <div class="size-6 text-primary">
                <svg fill="none" viewbox="0 0 48 48" xmlns="http://www.w3.org/2000/svg">
                    <path d="M4 4H17.3334V17.3334H30.6666V30.6666H44V44H4V4Z" fill="currentColor"></path>
                </svg>
            </div>
            <h2 class="text-white text-lg font-bold leading-tight tracking-[-0.015em]">Choreobuddy</h2>
        </div>
        <div class="flex flex-1 justify-end gap-8">
            <nav class="flex items-center gap-9">
                <a class="text-white/70 hover:text-white text-sm font-medium transition-colors" href="index.html">Dashboard</a>
                <a class="text-white/70 hover:text-white text-sm font-medium transition-colors" href="dancepractice.html">Practice</a>
                <a class="text-white text-sm font-medium border-b-2 border-primary pb-1" href="warmup.html">Warmups</a>
                <a class="text-white/70 hover:text-white text-sm font-medium transition-colors" href="#">Profile</a>
            </nav>
            <div class="flex gap-2">
                <button class="flex items-center justify-center rounded-lg h-10 w-10 bg-white/5 hover:bg-white/10 text-white transition-all">
                    <span class="material-symbols-outlined">settings</span>
                </button>
                <button class="flex items-center justify-center rounded-lg h-10 w-10 bg-white/5 hover:bg-white/10 text-white transition-all">
                    <span class="material-symbols-outlined">notifications</span>
                </button>
            </div>
            <div class="bg-center bg-no-repeat aspect-square bg-cover rounded-full size-10 border border-white/20" style='background-image: url("https://lh3.googleusercontent.com/aida-public/AB6AXuCpela3CoBjTlClifjgZBRgvFjgU4JHnnPTWued4hwOf8xCOfjAwEEjaQOSzdIYUlFWPCYotJgFVmQ0XHnrwCOZnafunWocciz6rOOF6x_EAbkhTw61jEHUMvwSeK5nEsl2nFvnOPSexXJOhxVvewfiiWuGIa-Aei97YuHjP0TBjLRJmH90DhJ1IC2zctpVoY0zTaS42CgQLYM2_K948Jj-c_yrEGrwJo1QYSc-mj6IbeJLiYMYM28Z1Tml3zpJLRmlg4gOc0C0airm");'></div>
        </div>
    </header>

    <main class="flex-1 px-10 py-8 max-w-[1440px] mx-auto w-full">
        <!-- Breadcrumbs -->
        <div class="flex flex-wrap gap-2 mb-4">
            <a class="text-[#93a5c8] text-sm font-medium hover:text-white transition-colors" href="index.html">Dashboard</a>
            <span class="text-[#93a5c8] text-sm font-medium">/</span>
            <span class="text-white text-sm font-medium">Warmup Routine</span>
        </div>

        <!-- Page Heading -->
        <div class="flex flex-wrap justify-between items-end gap-3 mb-8">
            <div class="flex flex-col gap-2">
                <h1 class="text-white text-4xl font-black leading-tight tracking-[-0.033em]">Pre-Dance Warmup</h1>
                <p class="text-[#93a5c8] text-lg font-normal">Neck and Wrist Movements (Griva &amp; Manibandha)</p>
            </div>
            <a href="index.html" class="flex min-w-[120px] cursor-pointer items-center justify-center rounded-lg h-12 px-6 bg-white/5 hover:bg-white/10 border border-white/10 text-white text-sm font-bold transition-all">
                <span>Exit Session</span>
            </a>
        </div>

        <div class="grid grid-cols-1 lg:grid-cols-3 gap-8">
            <!-- Left Section: Video Player -->
            <div class="lg:col-span-2 space-y-6">
                <div class="relative group">
                    <!-- HUD -->
                    <div class="absolute top-4 left-4 z-20 flex flex-col gap-2">
                        <div class="bg-black/60 backdrop-blur-md px-4 py-2 rounded-lg border border-primary/40 flex items-center gap-3">
                            <div class="size-2 rounded-full bg-green-500 animate-pulse"></div>
                            <span class="text-xs font-bold tracking-wider uppercase">AI Analysis Active</span>
                        </div>
                        <div class="bg-black/60 backdrop-blur-md px-4 py-2 rounded-lg border border-white/10">
                            <p class="text-[10px] text-white/60 uppercase font-bold mb-1">Posture Match</p>
                            <div class="flex items-center gap-2">
                                <div class="h-1.5 w-24 bg-white/20 rounded-full overflow-hidden">
                                    <div id="accuracy-bar" class="h-full bg-primary transition-all duration-500" style="width: 88%"></div>
                                </div>
                                <span id="accuracy-text" class="text-xs font-bold">88%</span>
                            </div>
                        </div>
                    </div>

                    <!-- Video Container with actual mp4 -->
                    <div class="relative aspect-video rounded-xl overflow-hidden bg-black shadow-2xl border border-white/5 shadow-primary/10 video-container">
                        <video id="warmup-video" preload="auto" class="w-full h-full">
                            <source src="warmup.mp4" type="video/mp4">
                            Your browser does not support the video tag.
                        </video>
                        
                        <!-- Overlay for control state -->
                        <div id="video-overlay" class="absolute inset-0 flex items-center justify-center bg-black/20 opacity-100 group-hover:opacity-100 transition-opacity pointer-events-none">
                            <button id="center-play-btn" class="size-20 rounded-full bg-primary/90 text-white flex items-center justify-center shadow-xl hover:scale-105 transition-transform pointer-events-auto">
                                <span class="material-symbols-outlined text-4xl" id="center-play-icon">play_arrow</span>
                            </button>
                        </div>

                        <!-- Video Controls Bar -->
                        <div class="absolute inset-x-0 bottom-0 p-6 bg-gradient-to-t from-black/90 to-transparent z-10">
                            <div class="flex items-center gap-4 mb-3">
                                <span id="current-time" class="text-white text-xs font-mono">00:00</span>
                                <div class="h-1.5 flex-1 rounded-full bg-white/20 cursor-pointer relative group/progress" id="progress-container">
                                    <div id="progress-bar" class="absolute inset-y-0 left-0 w-0 bg-primary rounded-full"></div>
                                </div>
                                <span id="duration-time" class="text-white/60 text-xs font-mono">00:00</span>
                            </div>
                            <div class="flex items-center justify-between">
                                <div class="flex items-center gap-6">
                                    <button onclick="rewind(10)" class="text-white hover:text-primary transition-colors"><span class="material-symbols-outlined">replay_10</span></button>
                                    <button id="play-pause-btn" class="text-white hover:text-primary transition-colors"><span class="material-symbols-outlined" id="play-icon">play_arrow</span></button>
                                    <button onclick="forward(10)" class="text-white hover:text-primary transition-colors"><span class="material-symbols-outlined">forward_10</span></button>
                                </div>
                                <div class="flex items-center gap-4">
                                    <button id="fullscreen-btn" class="text-white hover:text-primary transition-colors"><span class="material-symbols-outlined">fullscreen</span></button>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                
                <div class="bg-earth-brown/30 border border-white/5 rounded-xl p-6 flex gap-6">
                    <div class="bg-primary/20 p-4 rounded-lg flex items-center justify-center shrink-0">
                        <span class="material-symbols-outlined text-primary text-3xl">lightbulb</span>
                    </div>
                    <div>
                        <h4 class="text-white font-bold mb-1">AI Coaching Tip</h4>
                        <p id="coaching-tip" class="text-[#93a5c8] text-sm leading-relaxed transition-all duration-300">
                            Keep your spine elongated and shoulders relaxed. Avoid lifting your shoulders while rotating your neck. Imagine a thread pulling from the crown of your head.
                        </p>
                    </div>
                </div>
            </div>

            <!-- Right Section: Progress & Timer -->
            <div class="flex flex-col gap-6">
                <div class="bg-white/5 border border-white/10 rounded-xl p-6 flex flex-col items-center shadow-lg">
                    <p class="text-[#93a5c8] text-xs font-bold uppercase tracking-[0.2em] mb-4">Time Remaining</p>
                    <div class="flex gap-4 w-full">
                        <div class="flex grow basis-0 flex-col items-stretch gap-2">
                            <div class="flex h-20 items-center justify-center rounded-xl bg-white/10 border border-white/5">
                                <p id="timer-min" class="text-white text-3xl font-black">01</p>
                            </div>
                            <p class="text-[#93a5c8] text-xs text-center font-medium uppercase">Minutes</p>
                        </div>
                        <div class="flex grow basis-0 flex-col items-stretch gap-2">
                            <div class="flex h-20 items-center justify-center rounded-xl bg-primary shadow-[0_0_20px_rgba(24,90,220,0.3)]">
                                <p id="timer-sec" class="text-white text-3xl font-black">18</p>
                            </div>
                            <p class="text-[#93a5c8] text-xs text-center font-medium uppercase">Seconds</p>
                        </div>
                    </div>
                </div>

                <div class="bg-white/5 border border-white/10 rounded-xl overflow-hidden flex flex-col flex-1">
                    <div class="p-6 border-b border-white/10 bg-white/5">
                        <h3 class="text-white font-bold flex items-center gap-2">
                            <span class="material-symbols-outlined text-primary">format_list_bulleted</span>
                            Sequence Progress
                        </h3>
                    </div>
                    <div class="p-2 flex-1 overflow-y-auto max-h-[300px] no-scrollbar">
                        <div id="exercise-list" class="space-y-1">
                            <div class="flex items-center gap-4 p-4 rounded-lg bg-green-500/10 border border-green-500/20">
                                <div class="size-6 rounded-full bg-green-500 flex items-center justify-center">
                                    <span class="material-symbols-outlined text-white text-sm font-bold">check</span>
                                </div>
                                <div class="flex-1">
                                    <p class="text-green-500 text-sm font-bold">Deep Breathing</p>
                                    <p class="text-green-500/60 text-xs">Completed</p>
                                </div>
                            </div>
                            <div id="item-current" class="flex items-center gap-4 p-4 rounded-lg bg-primary/10 border border-primary/40 ring-1 ring-primary/20">
                                <div class="relative size-6 flex items-center justify-center">
                                    <div class="pulse-circle"></div>
                                    <div class="relative z-10 size-2 bg-primary rounded-full"></div>
                                </div>
                                <div class="flex-1">
                                    <p class="text-white text-sm font-bold">Neck Movements (Griva)</p>
                                    <p class="text-primary text-xs font-semibold">In Progress</p>
                                </div>
                            </div>
                            <div class="flex items-center gap-4 p-4 rounded-lg hover:bg-white/5 transition-colors cursor-pointer opacity-50">
                                <div class="size-6 rounded-full border-2 border-white/20"></div>
                                <div class="flex-1">
                                    <p class="text-white text-sm font-medium">Wrist Circles (Manibandha)</p>
                                    <p class="text-white/30 text-xs">Duration: 1:30</p>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="p-6 mt-auto">
                        <button id="next-exercise-btn" class="w-full bg-primary hover:bg-primary/90 text-white font-bold py-4 rounded-xl flex items-center justify-center gap-3 transition-all shadow-xl shadow-primary/20 group">
                            Next Exercise
                            <span class="material-symbols-outlined group-hover:translate-x-1 transition-transform">arrow_forward</span>
                        </button>
                    </div>
                </div>
            </div>
        </div>
    </main>
</div>

<script>
    const video = document.getElementById('warmup-video');
    const playPauseBtn = document.getElementById('play-pause-btn');
    const centerPlayBtn = document.getElementById('center-play-btn');
    const playIcon = document.getElementById('play-icon');
    const centerPlayIcon = document.getElementById('center-play-icon');
    const videoOverlay = document.getElementById('video-overlay');
    const progressBar = document.getElementById('progress-bar');
    const progressContainer = document.getElementById('progress-container');
    const currentTimeEl = document.getElementById('current-time');
    const durationTimeEl = document.getElementById('duration-time');

    // Toggle Play/Pause
    function togglePlay() {
        if (video.paused) {
            video.play();
            playIcon.innerText = 'pause';
            centerPlayIcon.innerText = 'pause';
            videoOverlay.style.opacity = '0';
        } else {
            video.pause();
            playIcon.innerText = 'play_arrow';
            centerPlayIcon.innerText = 'play_arrow';
            videoOverlay.style.opacity = '1';
        }
    }

    playPauseBtn.addEventListener('click', togglePlay);
    centerPlayBtn.addEventListener('click', togglePlay);

    // Update Progress
    video.addEventListener('timeupdate', () => {
        const percent = (video.currentTime / video.duration) * 100;
        progressBar.style.width = percent + '%';
        currentTimeEl.innerText = formatTime(video.currentTime);
    });

    video.addEventListener('loadedmetadata', () => {
        durationTimeEl.innerText = formatTime(video.duration);
    });

    function formatTime(time) {
        const min = Math.floor(time / 60);
        const sec = Math.floor(time % 60);
        return `${min.toString().padStart(2, '0')}:${sec.toString().padStart(2, '0')}`;
    }

    function rewind(sec) { video.currentTime -= sec; }
    function forward(sec) { video.currentTime += sec; }

    // Seek logic
    progressContainer.addEventListener('click', (e) => {
        const rect = progressContainer.getBoundingClientRect();
        const pos = (e.clientX - rect.left) / rect.width;
        video.currentTime = pos * video.duration;
    });

    // Fullscreen
    document.getElementById('fullscreen-btn').addEventListener('click', () => {
        if (video.requestFullscreen) video.requestFullscreen();
        else if (video.webkitRequestFullscreen) video.webkitRequestFullscreen();
        else if (video.msRequestFullscreen) video.msRequestFullscreen();
    });

    // AI Simulation State
    let seconds = 18;
    let accuracy = 88;
    
    setInterval(() => {
        if (seconds > 0) {
            seconds--;
            document.getElementById('timer-sec').innerText = seconds.toString().padStart(2, '0');
        }
    }, 1000);

    setInterval(() => {
        accuracy = 85 + Math.floor(Math.random() * 10);
        document.getElementById('accuracy-bar').style.width = accuracy + '%';
        document.getElementById('accuracy-text').innerText = accuracy + '%';
    }, 3000);

    document.getElementById('next-exercise-btn').addEventListener('click', function() {
        this.innerHTML = `<span>Exercise Saved</span><span class="material-symbols-outlined">check_circle</span>`;
        this.classList.remove('bg-primary');
        this.classList.add('bg-green-600');
        
        const currentItem = document.getElementById('item-current');
        if (currentItem) {
            currentItem.classList.remove('bg-primary/10', 'border-primary/40', 'ring-primary/20');
            currentItem.classList.add('bg-green-500/10', 'border-green-500/20');
            const pulse = currentItem.querySelector('.pulse-circle');
            if (pulse) pulse.remove();
            const icon = currentItem.querySelector('.relative.z-10');
            if (icon) {
                icon.className = "size-6 rounded-full bg-green-500 flex items-center justify-center";
                icon.innerHTML = '<span class="material-symbols-outlined text-white text-sm font-bold">check</span>';
            }
        }
        document.getElementById('coaching-tip').innerText = "Wrist Circles ready. Focus on rotating the wrists independently while keeping your hands in Pataka mudra.";
    });
</script>
</body>
</html>